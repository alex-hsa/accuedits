{# Retrieve the background_color value from the /04-component/accordion/accordion.twig file 
   There might be a shorter way to get to the value
   ToDo: Replace the next 4 lines with a shorter version
#}


{% if orientation == 'horizontal' %}
  {% if flip == 'yes' %}
    {% set orientation_class = 'grid grid-cols-1 md:grid-cols-12 [&>div.frontend-editing-actions]:col-end-12 [&>div.lead]:col-span-5 [&>div.items]:col-span-7 [&>div.lead]:order-2 [&>div.items]:order-1 [&>div.lead_hgroup]:sticky [&>div.lead_hgroup]:top-32' %}
  {% else %}
    {% set orientation_class = 'grid grid-cols-1 md:grid-cols-12 [&>div.frontend-editing-actions]:col-end-12 [&>div.lead]:col-span-5 [&>div.items]:col-span-7 [&>div.lead_hgroup]:sticky [&>div.lead_hgroup]:top-32' %}
  {% endif %}
{% else %}
  {% set orientation_class = '[&>div.lead]:ml-0' %}
{% endif %}

{% if border == 'yes' %}
  {% set border_class = 'border p-4 rounded-lg' %}
{% else %}
  {% set border_class = '' %}
{% endif %}

{% set paragraph_classes = [
    'steps-accuedits',
    'paragraph',
    'paragraph--type--' ~ paragraph.bundle|clean_class,
    view_mode ? 'paragraph--view-mode--' ~ view_mode|clean_class,
    not paragraph.isPublished() ? 'paragraph--unpublished'
  ]|join(' ')|trim %}

<section {{ attributes.addClass(paragraph_classes).addClass(orientation_class).addClass(border_class).addClass('[&>div.items_article:last-child_div.step-text]:mb-0')}}>
    {{ quick_edit }}

    {# Display Lead paragraph #}
    <div class="lead m-8">
        {% for key, item in lead_item %}
            {% if key|first != '#' %}
                {{ item }}
            {% endif %}
        {% endfor %}
    </div>

    <div class="items left-4 pl-4">   
        {% for key, item in steps_items %}
            {% if key|first != '#' %}
                {{ item }}
            {% endif %}
        {% endfor %}
    </div>

</section>
